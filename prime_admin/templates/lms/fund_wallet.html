{% extends "admin/admin_base.html" %}


{% block modals %}
{% include 'lms/add_funds_modal.html' %}
{% include 'lms/add_expenses_modal.html' %}
{% endblock %}


{% block head %}
<!-- sweet alert framework -->
<link rel="stylesheet" type="text/css"
    href="{{url_for('bp_admin.static', filename='bower_components/sweetalert/css/sweetalert.css')}}">
{% endblock %}


{% block scripts %}
<!-- sweet alert js -->
<script type="text/javascript"
    src="{{url_for('bp_admin.static', filename='bower_components/sweetalert/js/sweetalert.min.js')}}"></script>
<script type="text/javascript" src="{{url_for('bp_admin.static', filename='js/modal.js')}}"></script>
<script>
    $.ajaxSetup({
        beforeSend: function (xhr, settings) {
            if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {
                xhr.setRequestHeader("X-CSRFToken", CSRF_TOKEN);
            }
        }
    });


    $.validator.setDefaults({
        errorElement: 'span',
        errorPlacement: function (error, element) {
            error.addClass('invalid-feedback');
            element.closest('.form-group').append(error);
        },
        highlight: function (element, errorClass, validClass) {
            $(element).addClass('is-invalid');
        },
        unhighlight: function (element, errorClass, validClass) {
            $(element).removeClass('is-invalid');
        }
    });


    function clearCreateModal() {
        $(':input', '#mdl_add_fund')
            .not(':button, :submit, :reset, :hidden')
            .val('')
            .prop('checked', false)
            .prop('selected', false);

        $(':input', '#mdl_add_expenses')
            .not(':button, :submit, :reset, :hidden')
            .val('')
            .prop('checked', false)
            .prop('selected', false);
    }


    function getContactPersons(branch, from) {
        var selectDescriptionId = "#description";

        if (from == "filter") {
            selectDescriptionId = "#filter_description";
        } else if (from == "filter_tab3") {
            selectDescriptionId = "#filter_tab3_description";
        }

        $.getJSON('/learning-management/api/get-branch-contact-persons/' + branch, function (response) {
            if (response.data.length > 0) {
                $(selectDescriptionId).append(newOption);

                for (i = 0; i < response.data.length; i++) {
                    var newOption = $(`<option value="${response.data[i].id}">${response.data[i].fname}</option>`);
                    $(selectDescriptionId).append(newOption);
                }
            } else {
                var newOption = $('<option value="">No Contact Persons available</option>');
                $(selectDescriptionId).append(newOption);
            }
        });
    }

    function init() {
    }

    $(document).ready(function () {
        $("#li_fund_wallet").addClass('mm-active');

        var dtbl_fund_wallet_statements = $("#tbl_fund_wallet_statements").DataTable({
            "dom": 'rtip',
            "processing": true,
            "autoWidth": false,
            "serverSide": true,
            "ajax": {
                "url": "/learning-management/branches/all/fund-wallet-statements/dt",
                "dataSrc": function (json) {
                    $("#total_fund_wallet").html("₱" + json.totalFundWallet);
                    return json.data;
                },
                "data": function (d) {
                    d.date_from = $("#filter_date_from").val();
                    d.date_to = $("#filter_date_to").val();
                    d.category = $("#filter_category").val();
                    d.description = $("#filter_description").val();
                }
            },
            "pageLength": 25,
            "ordering": false,
            "order": [[0, 'asc']],
            "columnDefs": [
            ],
            "order": [[1, 'asc']],
        });


        var dtbl_add_funds_transactions = $("#tbl_add_funds_transactions").DataTable({
            "dom": 'rtip',
            "processing": true,
            "autoWidth": false,
            "serverSide": true,
            "ajax": {
                "url": "/learning-management/branches/all/add-funds-transactions/dt",
                "dataSrc": function (json) {
                    $("#total_fund_wallet").html("₱" + json.totalFundWallet);
                    return json.data;
                },
                "data": function (d) {
                    d.date_from = $("#filter_tab2_date_from").val();
                    d.date_to = $("#filter_tab2_date_to").val();
                }
            },
            "pageLength": 25,
            "ordering": false,
            "order": [[0, 'asc']],
            "columnDefs": [
            ],
            "order": [[1, 'asc']],
        });


        var dtbl_business_expenses = $("#tbl_business_expenses").DataTable({
            "dom": '',
            "processing": true,
            "autoWidth": false,
            "serverSide": true,
            "ajax": {
                "url": "/learning-management/branches/all/expenses-transactions/dt",
                "dataSrc": function (json) {
                    $("#total_utilities").html("₱" + json.totalUtilities);
                    $("#total_office_supplies").html("₱" + json.totalOfficeSupplies);
                    $("#total_salaries_and_rebates").html("₱" + json.totalSalariesAndRebates);
                    $("#total_other_expenses").html("₱" + json.totalOtherExpenses);
                    return json.data;
                },
                "data": function (d) {
                    d.year = $("#filter_tab3_year").val();
                }
            },
            "pageLength": 25,
            "ordering": false,
            "order": [[0, 'asc']],
            "columnDefs": [
            ],
            "order": [[1, 'asc']],
        });


        $("#div_branch_buttons").on('click', '.btn-branch', function () {
            var branch_name = $(this).html();

            // if(!(localStorage.getItem('sessSubArea') == _sub_area_name)){
            $("#btn_branch_label").html(branch_name.toUpperCase());
            $("#btn_branch_label").val($(this).val());
            $("#card_header_label").html(branch_name);

            $('#btn_branch_label').trigger('change');
        });


        $("#btn_branch_label").change(function () {
            const branchId = $("#btn_branch_label").val();

            dtbl_fund_wallet_statements.ajax.url(`/learning-management/branches/${branchId}/fund-wallet-statements/dt`).load();
            dtbl_add_funds_transactions.ajax.url(`/learning-management/branches/${branchId}/add-funds-transactions/dt`).load();
            dtbl_business_expenses.ajax.url(`/learning-management/branches/${branchId}/expenses-transactions/dt`).load();
            dtbl_utilities.ajax.url(`/learning-management/branches/${branchId}/utilities/dt`).load();
            dtbl_office_supply.ajax.url(`/learning-management/branches/${branchId}/office-supply/dt`).load();
            dtbl_salary.ajax.url(`/learning-management/branches/${branchId}/salary/dt`).load();
            dtbl_refund.ajax.url(`/learning-management/branches/${branchId}/refund/dt`).load();
            dtbl_other_expenses.ajax.url(`/learning-management/branches/${branchId}/other-expenses/dt`).load();
        });


        // --------------------- ADD FUND ------------------------

        $('#frm_add_fund').validate({
            'rules': {
                'branch': {
                    'required': true
                },
                'thru': {
                    'required': true,
                },
                'bank_name': {
                    'required': true,
                },
                'transaction_no': {
                    'required': true
                },
                'sender': {
                    'required': true,
                },
                'amount_received': {
                    'required': true,
                },
                'receiver': {
                    'required': true,
                },
                'remarks': {
                    'required': true,
                },
            },
            'submitHandler': function (form) {
                var xform = $(form);

                swal({
                    title: `Add fund to fund wallet?`,
                    text: "Double check your inputted data!",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonClass: "btn-danger",
                    confirmButtonText: "Confirm!",
                    closeOnConfirm: false,
                    showLoaderOnConfirm: true
                }, function () {
                    setTimeout(function () {
                        $.ajax({
                            type: xform.attr('method'),
                            url: xform.attr('action'),
                            data: xform.serialize(),
                            success: function (response) {
                                event.stopPropagation();

                                dtbl_fund_wallet_statements.ajax.reload();
                                dtbl_add_funds_transactions.ajax.reload();
                                dtbl_business_expenses.ajax.reload();
                                swal("Success!", response.message, "success");
                                $("#mdl_add_fund .close").click()
                                clearCreateModal();
                            },
                            error: function (data) {
                                swal("Error Occured!", "Please refresh the page then try again!", "error");
                            },
                        });
                    }, 500);
                });
            }
        });

        // --------------------- ADD EXPENSES ------------------------


        var frm_add_expenses_validator = $('#frm_add_expenses').validate({
            'rules': {
                'branch': {
                    'required': true
                },
                'category': {
                    'required': true,
                },
                'description': {
                    'required': true
                },
                'account_no': {
                    'required': true,
                },
                'billing_month_from': {
                    'required': true,
                },
                'billing_month_to': {
                    'required': true,
                },
                'qty': {
                    'required': true,
                },
                'unit_price': {
                    'required': true,
                },
                'total_amount_due': {
                    'required': true,
                },
                'settled_by': {
                    'required': true,
                },
                'remarks': {
                    'required': true,
                },
            },
            'submitHandler': function (form) {
                var xform = $(form);

                swal({
                    title: `Add expenses?`,
                    text: "Double check your inputted data!",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonClass: "btn-danger",
                    confirmButtonText: "Confirm!",
                    closeOnConfirm: false,
                    showLoaderOnConfirm: true
                }, function () {
                    setTimeout(function () {
                        $.ajax({
                            type: xform.attr('method'),
                            url: xform.attr('action'),
                            data: xform.serialize(),
                            success: function (response) {
                                event.stopPropagation();

                                dtbl_fund_wallet_statements.ajax.reload();
                                dtbl_add_funds_transactions.ajax.reload();
                                dtbl_business_expenses.ajax.reload();
                                swal("Success!", response.message, "success");
                                $("#mdl_add_expenses .close").click()
                                clearCreateModal();
                            },
                            error: function (data) {
                                swal("Error Occured!", "Please refresh the page then try again!", "error");
                            },
                        });
                    }, 500);
                });
            }
        });


        $("#category").change(function () {
            var selectedCategory = $(this).val();

            frm_add_expenses_validator.resetForm();

            $("#description").empty();
            $("#description").append($('<option></option>').attr("value", "").text("Choose category first..."));

            $("#qty").prop('disabled', false);
            $("#unit_price").prop('disabled', false);
            $("#account_no").prop('disabled', false);
            $("#billing_month_from").prop('disabled', false);
            $("#billing_month_to").prop('disabled', false);

            $("#qty").rules('add', { 'required': true });
            $("#unit_price").rules('add', { 'required': true });
            $("#account_no").rules('add', { 'required': true });
            $("#billing_month_from").rules('add', { 'required': true });
            $("#billing_month_to").rules('add', { 'required': true });

            $("#total_amount_due").prop('readonly', false);

            $("#label_description").html('Description');

            if (selectedCategory == "utilities") {
                $("#description").append($('<option></option>').attr("value", "Building Rental").text("Building Rental"));
                $("#description").append($('<option></option>').attr("value", "Electricity Bill").text("Electricity Bill"));
                $("#description").append($('<option></option>').attr("value", "Water Bill").text("Water Bill"));
                $("#description").append($('<option></option>').attr("value", "Internet And Communication Bill").text("Internet And Communication Bill"));

                $("#qty").prop('disabled', true);
                $("#unit_price").prop('disabled', true);

                $("#qty").rules('remove');
                $("#unit_price").rules('remove');
            } else if (selectedCategory == "office_supply") {
                $("#description").append($('<option></option>').attr("value", "Bond Paper").text("Bond Paper"));
                $("#description").append($('<option></option>').attr("value", "Epson Ink").text("Epson Ink"));
                $("#description").append($('<option></option>').attr("value", "Epson Ink (Black)").text("Epson Ink (Black)"));
                $("#description").append($('<option></option>').attr("value", "Epson Ink (Yellow)").text("Epson Ink (Yellow)"));
                $("#description").append($('<option></option>').attr("value", "Epson Ink (Blue)").text("Epson Ink (Blue)"));
                $("#description").append($('<option></option>').attr("value", "Epson Ink (Pink)").text("Epson Ink (Pink)"));
                $("#description").append($('<option></option>').attr("value", "Whiteboard Marker").text("Whiteboard Marker"));
                $("#description").append($('<option></option>').attr("value", "Whiteboard Marker Ink").text("Whiteboard Marker Ink"));
                $("#description").append($('<option></option>').attr("value", "PVC Cover").text("PVC Cover"));
                $("#description").append($('<option></option>').attr("value", "PVC Cover (8.5x11) 100pcs").text("PVC Cover (8.5x11) 100pcs"));
                $("#description").append($('<option></option>').attr("value", "Photo Paper").text("Photo Paper"));
                $("#description").append($('<option></option>').attr("value", "Stapler").text("Stapler"));
                $("#description").append($('<option></option>').attr("value", "Staple Wire").text("Staple Wire"));
                $("#description").append($('<option></option>').attr("value", "Staple Wire (23/24)").text("Staple Wire (23/24)"));
                $("#description").append($('<option></option>').attr("value", "Vellum").text("Vellum"));
                $("#description").append($('<option></option>').attr("value", "Vellum (Worx 8.5x11)").text("Vellum (Worx 8.5x11)"));
                $("#description").append($('<option></option>').attr("value", "Ductape").text("Ductape"));
                $("#description").append($('<option></option>').attr("value", "Parchment").text("Parchment"));
                $("#description").append($('<option></option>').attr("value", "Parchment (10 pcs per pack)").text("Parchment (10 pcs per pack)"));
                $("#description").append($('<option></option>').attr("value", "Ball Pen").text("Ball Pen"));
                $("#description").append($('<option></option>').attr("value", "Ball Pen (50 pcs)").text("Ball Pen (50 pcs)"));
                $("#description").append($('<option></option>').attr("value", "Notebook (50 pcs)").text("Notebook (50 pcs)"));
                $("#description").append($('<option></option>').attr("value", "Medal").text("Medal"));
                $("#description").append($('<option></option>').attr("value", "Ribbon").text("Ribbon"));
                $("#description").append($('<option></option>').attr("value", "Notarial Seals Ribbon").text("Notarial Seals Ribbon"));
                $("#description").append($('<option></option>').attr("value", "Notarial Seals Ribbon (10 pcs per box)").text("Notarial Seals Ribbon (10 pcs per box)"));
                $("#description").append($('<option></option>').attr("value", "Computer").text("Computer"));
                $("#description").append($('<option></option>').attr("value", "Aircon").text("Aircon"));
                $("#description").append($('<option></option>').attr("value", "Alcohol").text("Alcohol"));
                $("#description").append($('<option></option>').attr("value", "Air Freshener").text("Air Freshener"));
                $("#description").append($('<option></option>').attr("value", "Bathroom Cleaner").text("Bathroom Cleaner"));
                $("#description").append($('<option></option>').attr("value", "Water Refill").text("Water Refill"));
                $("#description").append($('<option></option>').attr("value", "Printer").text("Printer"));
                $("#description").append($('<option></option>').attr("value", "Laptop").text("Laptop"));
                $("#description").append($('<option></option>').attr("value", "Projector").text("Projector"));
                $("#description").append($('<option></option>').attr("value", "Chair").text("Chair"));
                $("#description").append($('<option></option>').attr("value", "Arm Chair").text("Arm Chair"));
                $("#description").append($('<option></option>').attr("value", "Whiteboard").text("Whiteboard"));
                $("#description").append($('<option></option>').attr("value", "Scissor").text("Scissor"));
                $("#description").append($('<option></option>').attr("value", "Calculator").text("Calculator"));
                $("#description").append($('<option></option>').attr("value", "Correction Pen").text("Correction Pen"));
                $("#description").append($('<option></option>').attr("value", "Highlighter").text("Highlighter"));
                $("#description").append($('<option></option>').attr("value", "Push Pen").text("Push Pen"));
                $("#description").append($('<option></option>').attr("value", "Binder Clip").text("Binder Clip"));
                
                $("#account_no").prop('disabled', true);
                $("#billing_month_from").prop('disabled', true);
                $("#billing_month_to").prop('disabled', true);

                $("#account_no").rules('remove');
                $("#billing_month_from").rules('remove');
                $("#billing_month_to").rules('remove');

                $("#total_amount_due").prop('readonly', true);
            } else if (selectedCategory == "salary" || selectedCategory == "rebates") {
                if ($("#branch_expenses").val() == '') {
                    swal("Error Occured!", "Please select branch first!", "info");
                    return;
                }
                getContactPersons($("#branch_expenses").val(), "add_expenses");

                $("#label_description").html('Contact Person');
                $("#qty").prop('disabled', true);
                $("#unit_price").prop('disabled', true);
                $("#qty").rules('remove');
                $("#unit_price").rules('remove');
            } else if (selectedCategory == "other_expenses") {
                $("#description").append($('<option></option>').attr("value", "TRANSPORTATION BUDGET").text("TRANSPORTATION BUDGET"));
                $("#description").append($('<option></option>').attr("value", "REMITTANCE CHARGE").text("REMITTANCE CHARGE"));
                $("#description").append($('<option></option>').attr("value", "C.M. LOAD BUDGET").text("C.M. LOAD BUDGET"));
                $("#description").append($('<option></option>').attr("value", "GASUL").text("GASUL"));
                $("#description").append($('<option></option>').attr("value", "GRADUATION CAKE").text("GRADUATION CAKE"));
                $("#description").append($('<option></option>').attr("value", "TRASHBAG").text("TRASHBAG"));
                $("#description").append($('<option></option>').attr("value", "AIRFRESHENER").text("AIRFRESHENER"));
                $("#description").append($('<option></option>').attr("value", "ALCOHOL").text("ALCOHOL"));
                $("#description").append($('<option></option>').attr("value", "BATHROOM CLEANER").text("BATHROOM CLEANER"));
                $("#description").append($('<option></option>').attr("value", "AIRCON CLEANING").text("AIRCON CLEANING"));
                $("#description").append($('<option></option>').attr("value", "ADVERTISING FEE").text("ADVERTISING FEE"));
                $("#description").append($('<option></option>').attr("value", "TARPAULEN").text("TARPAULEN"));
                $("#description").append($('<option></option>').attr("value", "COMPUTER REPAIR").text("COMPUTER REPAIR"));
                $("#description").append($('<option></option>').attr("value", "PRINTER REPAIR").text("PRINTER REPAIR"));
            }
        });

        $("#qty").change(function () {
            $("#total_amount_due").val(
                $(this).val() * $("#unit_price").val()
            );
        });

        $("#unit_price").change(function () {
            $("#total_amount_due").val(
                $(this).val() * $("#qty").val()
            );
        });

        $("#branch_expenses").change(function () {
            if ($("#category").val() == "salary" || $("#category").val() == "rebates") {
                getContactPersons($("#branch_expenses").val(), "add_expenses");
            }
        });

        $("#thru").change(function () {
            var thru = $(this).val();

            $("#bank").prop('disabled', true);
            $("#remittance").prop('disabled', true);
            $("#account_name").prop('disabled', true);
            $("#account_no").prop('disabled', true);
            $("#transaction_no").prop('disabled', true);
            $("#sender").prop('disabled', true);
            $("#receiver").prop('disabled', true);
            $("#amount_received").prop('disabled', true);
            $("#remarks").prop('disabled', true);

            $("#bank").rules('remove');
            $("#remittance").rules('remove');
            $("#account_name").rules('remove');
            $("#account_no").rules('remove');
            $("#transaction_no").rules('remove');
            $("#sender").rules('remove');
            $("#receiver").rules('remove');
            $("#amount_received").rules('remove');
            $("#remarks").rules('remove');

            if (thru == "BANK") {
                $("#bank").prop('disabled', false);
                $("#account_name").prop('disabled', false);
                $("#account_no").prop('disabled', false);
                $("#amount_received").prop('disabled', false);
                $("#remarks").prop('disabled', false);

                $("#bank").rules('add', { 'required': true });
                $("#account_name").rules('add', { 'required': true });
                $("#account_no").rules('add', { 'required': true });
                $("#amount_received").rules('add', { 'required': true });
                $("#remarks").rules('add', { 'required': true });
            } else if (thru == "REMITTANCE") {
                $("#remittance").prop('disabled', false);
                $("#transaction_no").prop('disabled', false);
                $("#sender").prop('disabled', false);
                $("#receiver").prop('disabled', false);
                $("#amount_received").prop('disabled', false);
                $("#remarks").prop('disabled', false);

                $("#remittance").rules('add', { 'required': true });
                $("#transaction_no").rules('add', { 'required': true });
                $("#sender").rules('add', { 'required': true });
                $("#receiver").rules('add', { 'required': true });
                $("#amount_received").rules('add', { 'required': true });
                $("#remarks").rules('add', { 'required': true });
            } else if (thru == "CASH ON HAND") {
                $("#amount_received").prop('disabled', false);
                $("#remarks").prop('disabled', false);
                $("#amount_received").rules('add', { 'required': true });
                $("#remarks").rules('add', { 'required': true });
            }
        });

        // FILTERS

        $('#filter_date_from').change(function () {
            dtbl_fund_wallet_statements.ajax.reload();
        });

        $('#filter_date_to').change(function () {
            dtbl_fund_wallet_statements.ajax.reload();
        });

        $('#filter_tab2_date_from').change(function () {
            dtbl_add_funds_transactions.ajax.reload();
        });

        $('#filter_tab2_date_to').change(function () {
            dtbl_add_funds_transactions.ajax.reload();
        });

        $('#filter_tab3_date_from').change(function () {
            dtbl_business_expenses.ajax.reload();
        });

        $('#filter_tab3_date_to').change(function () {
            dtbl_business_expenses.ajax.reload();
        });

        $('#filter_category').change(function () {
            dtbl_fund_wallet_statements.ajax.reload();

            var selectedCategory = $(this).val();

            $("#filter_description").empty();
            $("#filter_description").append($('<option></option>').attr("value", "").text("Choose category first..."));

            if (selectedCategory == "utilities") {
                $("#filter_description").append($('<option></option>').attr("value", "Building Rental").text("Building Rental"));
                $("#filter_description").append($('<option></option>').attr("value", "Electricity Bill").text("Electricity Bill"));
                $("#filter_description").append($('<option></option>').attr("value", "Water Bill").text("Water Bill"));
                $("#filter_description").append($('<option></option>').attr("value", "Internet And Communication Bill").text("Internet And Communication Bill"));
            } else if (selectedCategory == "office_supply") {
                $("#filter_description").append($('<option></option>').attr("value", "Bond Paper").text("Bond Paper"));
                $("#filter_description").append($('<option></option>').attr("value", "Epson Ink").text("Epson Ink"));
                $("#filter_description").append($('<option></option>').attr("value", "Epson Ink (Black)").text("Epson Ink (Black)"));
                $("#filter_description").append($('<option></option>').attr("value", "Epson Ink (Yellow)").text("Epson Ink (Yellow)"));
                $("#filter_description").append($('<option></option>').attr("value", "Epson Ink (Blue)").text("Epson Ink (Blue)"));
                $("#filter_description").append($('<option></option>').attr("value", "Epson Ink (Pink)").text("Epson Ink (Pink)"));
                $("#filter_description").append($('<option></option>').attr("value", "Whiteboard Marker").text("Whiteboard Marker"));
                $("#filter_description").append($('<option></option>').attr("value", "Whiteboard Marker Ink").text("Whiteboard Marker Ink"));
                $("#filter_description").append($('<option></option>').attr("value", "PVC Cover").text("PVC Cover"));
                $("#filter_description").append($('<option></option>').attr("value", "PVC Cover (8.5x11) 100pcs").text("PVC Cover (8.5x11) 100pcs"));
                $("#filter_description").append($('<option></option>').attr("value", "Photo Paper").text("Photo Paper"));
                $("#filter_description").append($('<option></option>').attr("value", "Stapler").text("Stapler"));
                $("#filter_description").append($('<option></option>').attr("value", "Staple Wire").text("Staple Wire"));
                $("#filter_description").append($('<option></option>').attr("value", "Staple Wire (23/24)").text("Staple Wire (23/24)"));
                $("#filter_description").append($('<option></option>').attr("value", "Vellum").text("Vellum"));
                $("#filter_description").append($('<option></option>').attr("value", "Vellum (Worx 8.5x11)").text("Vellum (Worx 8.5x11)"));
                $("#filter_description").append($('<option></option>').attr("value", "Ductape").text("Ductape"));
                $("#filter_description").append($('<option></option>').attr("value", "Parchment").text("Parchment"));
                $("#filter_description").append($('<option></option>').attr("value", "Parchment (10 pcs per pack)").text("Parchment (10 pcs per pack)"));
                $("#filter_description").append($('<option></option>').attr("value", "Ball Pen").text("Ball Pen"));
                $("#filter_description").append($('<option></option>').attr("value", "Ball Pen (50 pcs)").text("Ball Pen (50 pcs)"));
                $("#filter_description").append($('<option></option>').attr("value", "Notebook (50 pcs)").text("Notebook (50 pcs)"));
                $("#filter_description").append($('<option></option>').attr("value", "Medal").text("Medal"));
                $("#filter_description").append($('<option></option>').attr("value", "Ribbon").text("Ribbon"));
                $("#filter_description").append($('<option></option>').attr("value", "Notarial Seals Ribbon").text("Notarial Seals Ribbon"));
                $("#filter_description").append($('<option></option>').attr("value", "Notarial Seals Ribbon (10 pcs per box)").text("Notarial Seals Ribbon (10 pcs per box)"));
                $("#filter_description").append($('<option></option>').attr("value", "Computer").text("Computer"));
                $("#filter_description").append($('<option></option>').attr("value", "Aircon").text("Aircon"));
                $("#filter_description").append($('<option></option>').attr("value", "Alcohol").text("Alcohol"));
                $("#filter_description").append($('<option></option>').attr("value", "Air Freshener").text("Air Freshener"));
                $("#filter_description").append($('<option></option>').attr("value", "Bathroom Cleaner").text("Bathroom Cleaner"));
                $("#filter_description").append($('<option></option>').attr("value", "Water Refill").text("Water Refill"));
                $("#filter_description").append($('<option></option>').attr("value", "Printer").text("Printer"));
                $("#filter_description").append($('<option></option>').attr("value", "Laptop").text("Laptop"));
                $("#filter_description").append($('<option></option>').attr("value", "Projector").text("Projector"));
                $("#filter_description").append($('<option></option>').attr("value", "Chair").text("Chair"));
                $("#filter_description").append($('<option></option>').attr("value", "Arm Chair").text("Arm Chair"));
                $("#filter_description").append($('<option></option>').attr("value", "Whiteboard").text("Whiteboard"));
                $("#filter_description").append($('<option></option>').attr("value", "Scissor").text("Scissor"));
                $("#filter_description").append($('<option></option>').attr("value", "Calculator").text("Calculator"));
                $("#filter_description").append($('<option></option>').attr("value", "Correction Pen").text("Correction Pen"));
                $("#filter_description").append($('<option></option>').attr("value", "Highlighter").text("Highlighter"));
                $("#filter_description").append($('<option></option>').attr("value", "Push Pen").text("Push Pen"));
                $("#filter_description").append($('<option></option>').attr("value", "Binder Clip").text("Binder Clip"));
                
            } else if (selectedCategory == "salary" || selectedCategory == "rebates") {
                getContactPersons($("#btn_branch_label").val(), "filter");
            } else if (selectedCategory == "other_expenses") {
                $("#filter_description").append($('<option></option>').attr("value", "Others").text("Others"));
            }
        });

        $('#filter_tab3_category').change(function () {
            dtbl_business_expenses.ajax.reload();

            var selectedCategory = $(this).val();

            $("#filter_tab3_description").empty();
            $("#filter_tab3_description").append($('<option></option>').attr("value", "").text("Choose category first..."));

            if (selectedCategory == "utilities") {
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Building Rental").text("Building Rental"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Electricity Bill").text("Electricity Bill"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Water Bill").text("Water Bill"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Internet And Communication Bill").text("Internet And Communication Bill"));
            } else if (selectedCategory == "office_supply") {
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Bond Paper").text("Bond Paper"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Epson Ink").text("Epson Ink"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Epson Ink (Black)").text("Epson Ink (Black)"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Epson Ink (Yellow)").text("Epson Ink (Yellow)"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Epson Ink (Blue)").text("Epson Ink (Blue)"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Epson Ink (Pink)").text("Epson Ink (Pink)"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Whiteboard Marker").text("Whiteboard Marker"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Whiteboard Marker Ink").text("Whiteboard Marker Ink"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "PVC Cover").text("PVC Cover"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "PVC Cover (8.5x11) 100pcs").text("PVC Cover (8.5x11) 100pcs"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Photo Paper").text("Photo Paper"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Stapler").text("Stapler"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Staple Wire").text("Staple Wire"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Staple Wire (23/24)").text("Staple Wire (23/24)"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Vellum").text("Vellum"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Vellum (Worx 8.5x11)").text("Vellum (Worx 8.5x11)"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Ductape").text("Ductape"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Parchment").text("Parchment"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Parchment (10 pcs per pack)").text("Parchment (10 pcs per pack)"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Ball Pen").text("Ball Pen"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Ball Pen (50 pcs)").text("Ball Pen (50 pcs)"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Notebook (50 pcs)").text("Notebook (50 pcs)"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Medal").text("Medal"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Ribbon").text("Ribbon"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Notarial Seals Ribbon").text("Notarial Seals Ribbon"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Notarial Seals Ribbon (10 pcs per box)").text("Notarial Seals Ribbon (10 pcs per box)"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Computer").text("Computer"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Aircon").text("Aircon"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Alcohol").text("Alcohol"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Air Freshener").text("Air Freshener"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Bathroom Cleaner").text("Bathroom Cleaner"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Water Refill").text("Water Refill"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Printer").text("Printer"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Laptop").text("Laptop"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Projector").text("Projector"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Chair").text("Chair"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Arm Chair").text("Arm Chair"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Whiteboard").text("Whiteboard"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Scissor").text("Scissor"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Calculator").text("Calculator"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Correction Pen").text("Correction Pen"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Highlighter").text("Highlighter"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Push Pen").text("Push Pen"));
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Binder Clip").text("Binder Clip"));
            } else if (selectedCategory == "salary" || selectedCategory == "rebates") {
                getContactPersons($("#btn_branch_label").val(), "filter_tab3");
            } else if (selectedCategory == "other_expenses") {
                $("#filter_tab3_description").append($('<option></option>').attr("value", "Others").text("Others"));
            }
        });

        $('#filter_description').change(function () {
            dtbl_fund_wallet_statements.ajax.reload();
        });

        $('#filter_tab3_description').change(function () {
            dtbl_business_expenses.ajax.reload();
        });

        $('#filter_tab3_year').change(function () {
            dtbl_business_expenses.ajax.reload();
        });

        // BUSINESS EXPENSES TABS
        var dtbl_utilities = $("#tbl_utilities").DataTable({
            "dom": 'rtip',
            "processing": true,
            "autoWidth": false,
            "serverSide": true,
            "ajax": {
                "url": "/learning-management/branches/all/utilities/dt",
                "dataSrc": function (json) {
                    $("#total_utilities_tab").html("₱" + json.totalUtilities);
                    return json.data;
                },
                "data": function (d) {
                    d.description = $("#filter_utilities_description").val();
                    d.date_from = $("#filter_utilities_date_from").val();
                    d.date_to = $("#filter_utilities_date_to").val();
                }
            },
            "pageLength": 25,
            "ordering": false,
            "order": [[0, 'asc']],
            "columnDefs": [
            ],
            "order": [[1, 'asc']],
        });


        var dtbl_office_supply = $("#tbl_office_supply").DataTable({
            "dom": 'rtip',
            "processing": true,
            "autoWidth": false,
            "serverSide": true,
            "ajax": {
                "url": "/learning-management/branches/all/office-supply/dt",
                "dataSrc": function (json) {
                    $("#total_office_supply_tab").html("₱" + json.totalOfficeSupply);
                    return json.data;
                },
                "data": function (d) {
                    d.description = $("#filter_office_supply_description").val();
                    d.date_from = $("#filter_office_supply_date_from").val();
                    d.date_to = $("#filter_office_supply_date_to").val();
                }
            },
            "pageLength": 25,
            "ordering": false,
            "order": [[0, 'asc']],
            "columnDefs": [
            ],
            "order": [[1, 'asc']],
        });


        var dtbl_salary = $("#tbl_salary").DataTable({
            "dom": 'rtip',
            "processing": true,
            "autoWidth": false,
            "serverSide": true,
            "ajax": {
                "url": "/learning-management/branches/all/salary/dt",
                "dataSrc": function (json) {
                    $("#total_office_supply_tab").html("₱" + json.totalOfficeSupply);
                    return json.data;
                },
                "data": function (d) {
                    //d.date_from = $("#filter_tab2_date_from").val();
                    //d.date_to = $("#filter_tab2_date_to").val();
                }
            },
            "pageLength": 25,
            "ordering": false,
            "order": [[0, 'asc']],
            "columnDefs": [
            ],
            "order": [[1, 'asc']],
        });


        var dtbl_other_expenses = $("#tbl_other_expenses").DataTable({
            "dom": 'rtip',
            "processing": true,
            "autoWidth": false,
            "serverSide": true,
            "ajax": {
                "url": "/learning-management/branches/all/other-expenses/dt",
                "dataSrc": function (json) {
                    return json.data;
                },
                "data": function (d) {
                    //d.date_from = $("#filter_tab2_date_from").val();
                    //d.date_to = $("#filter_tab2_date_to").val();
                }
            },
            "pageLength": 25,
            "ordering": false,
            "order": [[0, 'asc']],
            "columnDefs": [
            ],
            "order": [[1, 'asc']],
        });

        
        var dtbl_refund = $("#tbl_refund").DataTable({
            "dom": 'rtip',
            "processing": true,
            "autoWidth": false,
            "serverSide": true,
            "ajax": {
                "url": "/learning-management/branches/all/refund/dt",
                "dataSrc": function (json) {
                    //$("#total_office_supply_tab").html("₱" + json.totalOfficeSupply);
                    return json.data;
                },
                "data": function (d) {
                    //d.date_from = $("#filter_tab2_date_from").val();
                    //d.date_to = $("#filter_tab2_date_to").val();
                }
            },
            "pageLength": 25,
            "ordering": false,
            "order": [[0, 'asc']],
            "columnDefs": [
            ],
            "order": [[1, 'asc']],
        });


        // $("#filter_utilities_date_from").datepicker( { 
        //    changeYear: false, 
        //    dateFormat: 'MM-dd',
        //}).focus(function () {
        //    $(".ui-datepicker-year").hide();
        //});


        $('#filter_utilities_description').change(function () {
            dtbl_utilities.ajax.reload();
        });

        $('#filter_utilities_date_from').change(function () {
            dtbl_utilities.ajax.reload();
        });
        
        $('#filter_utilities_date_to').change(function () {
            dtbl_utilities.ajax.reload();
        });

        
        $('#filter_office_supply_description').change(function () {
            dtbl_office_supply.ajax.reload();
        });

        $('#filter_office_supply_date_from').change(function () {
            dtbl_office_supply.ajax.reload();
        });
        
        $('#filter_office_supply_date_to').change(function () {
            dtbl_utilities.ajax.reload();
        });

        // End of document.ready
    });
</script>
{% endblock %}


{% block content %}
<div class="app-main__inner">
    <div class="app-page-title" style="background-color: skyblue">
        <div class="page-title-wrapper">
            <div class="page-title-heading">
                <div class="page-title-icon">
                    <i class="{{ RENDERED_MODEL.__amicon__ }} icon-gradient bg-happy-itmeo"></i>
                </div>
                <div>
                    Fund Wallet
                    <div class="page-title-subheading">
                        Funds wallet and Expenses
                    </div>
                </div>
            </div>
            <div class="page-title-actions">
                {% if current_user.role.name in ["Admin"] %}
                <button type="button" data-toggle="modal" data-target="#mdl_add_fund" data-placement="bottom"
                    class="btn-shadow mr-3 btn btn-primary">
                    <i class="fa fa-plus"></i> Add funds
                </button>
                {% endif %}

                {% if current_user.role.name in ['Secretary', 'Admin'] %}
                <button type="button" data-toggle="modal" data-target="#mdl_add_expenses" data-placement="bottom"
                    class="btn-shadow mr-3 btn btn-primary">
                    <i class="fa fa-minus"></i> Expenses
                </button>
                {% endif %}

                <div class="d-inline-block dropdown">
                    <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                        class="btn-shadow dropdown-toggle btn btn-info">
                        <span class="btn-icon-wrapper pr-2 opacity-7">
                            <i class="fa fa-list-alt fa-w-20"></i>
                        </span>
                        Actions
                    </button>
                    <div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu dropdown-menu-right">
                        <ul class="nav flex-column">
                            {% if session['permissions'][RENDERED_MODEL.__amname__] is defined %}
                            {% if session['permissions'][RENDERED_MODEL.__amname__]['delete'] or
                            current_user.is_superuser %}
                            <li id="nav_action_btns" class="nav-item">
                                {% block dropdown_buttons %}
                                <button disabled id="btndelete" type="button" tabindex="0"
                                    class="dropdown-item">Delete</button>
                                {% endblock %}
                            </li>
                            {% else %}
                            <li class="nav-item">
                                <a disabled="" href="javascript:void(0);" class="nav-link disabled">
                                    <i class="nav-link-icon lnr-file-empty"></i>
                                    <span>
                                        No actions
                                    </span>
                                </a>
                            </li>
                            {% endif %}
                            {% else %}
                            <li class="nav-item">
                                <a disabled="" href="javascript:void(0);" class="nav-link disabled">
                                    <i class="nav-link-icon lnr-file-empty"></i>
                                    <span>
                                        No actions
                                    </span>
                                </a>
                            </li>
                            {% endif %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="main-card mb-3 card">
        <div class="card-header">
            {% if current_user.role.name == "Secretary" %}
            <div id="card_header_label">{{current_user.branch.name}}</div>
            {% else %}
            <div id="card_header_label">ALL BRANCHES</div>
            {% endif %}

            {% if current_user.role.name != "Secretary" %}
            <div class="btn-actions-pane-right">
                <div class="nav">

                    <div class="dropleft btn-group">
                        <button value="all" id="btn_branch_label" type="button" aria-haspopup="true"
                            aria-expanded="false" data-toggle="dropdown"
                            class="btn-wide mb-2 mr-2 dropdown-toggle btn btn-primary">
                            ALL BRANCHES
                        </button>
                        <div id="div_branch_buttons" tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu"
                            x-placement="left-start"
                            style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(-4px, 0px, 0px);">
                            {% if current_user.role.name != "Secretary" %}
                            <button value="all" type="button" tabindex="0" class="dropdown-item btn-branch">ALL
                                BRANCHES</button>
                            {% endif %}

                            {% for branch in branches %}
                            <button value="{{branch.id}}" type="button" tabindex="0"
                                class="dropdown-item btn-branch">{{branch.name}}</button>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}

        </div>

        <div class="card-body">
            <div class="row">
                <div class="col-lg-12 col-xl-12">
                    <div class="card mb-3 widget-content">
                        <div class="widget-content-wrapper">
                            <div class="widget-content-left">
                                <div class="widget-heading">Fund Wallet</div>
                                <div class="widget-subheading">Running Balance</div>
                            </div>
                            <div class="widget-content-right">
                                <div class="widget-numbers text-success"><span id="total_fund_wallet">₱ 0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 
            <div class="row">
                <div class="col-lg-6 col-xl-6">
                    <div class="card mb-3 widget-content">
                        <div class="widget-content-wrapper">
                            <div class="widget-content-left">
                                <div class="widget-heading">Utilities</div>
                                <div class="widget-subheading">Rental fee, Electric and Water bills</div>
                            </div>
                            <div class="widget-content-right">
                                <div class="widget-numbers text-danger"><span id="total_utilities">₱ 0.00</span></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-xl-6">
                    <div class="card mb-3 widget-content">
                        <div class="widget-content-wrapper">
                            <div class="widget-content-left">
                                <div class="widget-heading">Office Supplies</div>
                                <div class="widget-subheading">Total</div>
                            </div>
                            <div class="widget-content-right">
                                <div class="widget-numbers text-danger"><span id="total_office_supplies">₱ 0.00</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> -->

            <!-- <div class="row">
                <div class="col-lg-6 col-xl-6">
                    <div class="card mb-3 widget-content">
                        <div class="widget-content-wrapper">
                            <div class="widget-content-left">
                                <div class="widget-heading">Salaries and Marketer Rebates</div>
                                <div class="widget-subheading">Total</div>
                            </div>
                            <div class="widget-content-right">
                                <div class="widget-numbers text-danger"><span id="total_salaries_and_rebates">₱ 0.00</span></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-xl-6">
                    <div class="card mb-3 widget-content">
                        <div class="widget-content-wrapper">
                            <div class="widget-content-left">
                                <div class="widget-heading">Other Expenses</div>
                                <div class="widget-subheading">Total</div>
                            </div>
                            <div class="widget-content-right">
                                <div class="widget-numbers text-danger"><span id="total_other_expenses">₱ 0.00</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> -->


            <div class="mb-12 card">
                <div class="card-body">
                    <ul class="tabs-animated-shadow nav-justified tabs-animated nav">
                        <li class="nav-item">
                            <a role="tab" class="nav-link show active" id="tab-c1-0" data-toggle="tab"
                                href="#tab-animated1-0" aria-selected="false">
                                <span class="nav-text">FUND WALLET STATEMENTS</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a role="tab" class="nav-link show" id="tab-c1-1" data-toggle="tab" href="#tab-animated1-1"
                                aria-selected="false">
                                <span class="nav-text">ADD FUNDS TRANSACTIONS</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a role="tab" class="nav-link show" id="tab-c1-2" data-toggle="tab" href="#tab-animated1-2"
                                aria-selected="true">
                                <span class="nav-text">BUSINESS EXPENSES</span>
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane show active" id="tab-animated1-0" role="tabpanel">
                            <div class="form-row">
                                <div class="col-md-2 col-xs-2">
                                    <div class="position-relative form-group">
                                        <label for="filter_date_from" class="">Date From</label>
                                        <input id="filter_date_from" type="date" class="form-control">
                                    </div>
                                </div>
                                <div class="col-md-2 col-xs-2">
                                    <div class="position-relative form-group">
                                        <label for="filter_date_to" class="">Date To</label>
                                        <input id="filter_date_to" type="date" class="form-control">
                                    </div>
                                </div>
                                <div class="col-md-2 col-xs-2">
                                    <div class="position-relative form-group">
                                        <label for="filter_category" class="">Category</label>
                                        <select id="filter_category" class="form-control" required>
                                            <option value="">Choose...</option>
                                            <option value="utilities">Utilities</option>
                                            <option value="office_supply">Office Supply</option>
                                            <option value="salary">Salary</option>
                                            <option value="rebates">Rebates</option>
                                            <option value="other_expenses">Other Expenses</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-2 col-xs-2">
                                    <div class="position-relative form-group">
                                        <label for="filter_description" class="">Description</label>
                                        <select id="filter_description" class="form-control" required>
                                            <option value="">Choose category first...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div style="margin-top: 10px;" class="table-responsive">
                                <table id="tbl_fund_wallet_statements"
                                    class="align-middle mb-0 table table-bordered table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th class="text-center">DATE</th>
                                            <th class="text-center">DESCRIPTION</th>
                                            <th class="text-center">ADD FUNDS</th>
                                            <th class="text-center">EXPENSES</th>
                                            <th class="text-center">RUNNING BALANCE</th>
                                            <th class="text-center">WHO</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="tab-pane show" id="tab-animated1-1" role="tabpanel">
                            <div class="form-row">
                                <div class="col-md-2 col-xs-2">
                                    <div class="position-relative form-group">
                                        <label for="filter_tab2_date_from" class="">Date From</label>
                                        <input id="filter_tab2_date_from" type="date" class="form-control">
                                    </div>
                                </div>
                                <div class="col-md-2 col-xs-2">
                                    <div class="position-relative form-group">
                                        <label for="filter_tab2_date_to" class="">Date To</label>
                                        <input id="filter_tab2_date_to" type="date" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div style="margin-top: 10px;" class="table-responsive">
                                <table id="tbl_add_funds_transactions"
                                    class="align-middle mb-0 table table-bordered table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th class="text-center">DATE</th>
                                            <th class="text-center">THRU</th>
                                            <th class="text-center">BANK NAME</th>
                                            <th class="text-center">ACCOUNT NAME</th>
                                            <th class="text-center">ACCOUNT NO.</th>
                                            <th class="text-center">REMITTANCE NAME</th>
                                            <th class="text-center">TRANSACTION CODE</th>
                                            <th class="text-center">SENDER</th>
                                            <th class="text-center">RECEIVER</th>
                                            <th class="text-center">AMOUNT</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="tab-pane show" id="tab-animated1-2" role="tabpanel">
                            <div class="form-row">
                                <!-- <div class="col-md-2 col-xs-2">
                                    <div class="position-relative form-group">
                                        <label for="filter_tab3_date_from" class="">Date From</label>
                                        <input id="filter_tab3_date_from" type="date" class="form-control">
                                    </div>
                                </div>
                                <div class="col-md-2 col-xs-2">
                                    <div class="position-relative form-group">
                                        <label for="filter_tab3_date_to" class="">Date To</label>
                                        <input id="filter_tab3_date_to" type="date" class="form-control">
                                    </div>
                                </div> -->
                                <div class="col-md-2 col-xs-2">
                                    <div class="position-relative form-group">
                                        <label for="filter_tab3_year" class="">Year</label>
                                        <select id="filter_tab3_year" class="form-control" required>
                                            <option value="all">All</option>
                                            <option value="2022">2022</option>
                                            <option value="2021">2021</option>
                                        </select>
                                    </div>
                                </div>
                                <!-- <div class="col-md-2 col-xs-2">
                                    <div class="position-relative form-group">
                                        <label for="filter_tab3_description" class="">Description</label>
                                        <select id="filter_tab3_description" class="form-control" required>
                                            <option value="">Choose category first...</option>
                                        </select>
                                    </div>
                                </div> -->
                            </div>
                            <div style="margin-top: 10px;" class="table-responsive">
                                <table id="tbl_business_expenses"
                                    class="align-middle mb-0 table table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th class="text-center">CATEGORY</th>
                                            <th class="text-center">JAN</th>
                                            <th class="text-center">FEB</th>
                                            <th class="text-center">MAR</th>
                                            <th class="text-center">APR</th>
                                            <th class="text-center">MAY</th>
                                            <th class="text-center">JUNE</th>
                                            <th class="text-center">JULY</th>
                                            <th class="text-center">AUGUST</th>
                                            <th class="text-center">SEPTEMBER</th>
                                            <th class="text-center">OCTOBER</th>
                                            <th class="text-center">NOVEMBER</th>
                                            <th class="text-center">DECEMBER</th>
                                            <th class="text-center">TOTAL</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>

                            <div class="main-card mb-3 card" style="margin-top: 20px;">
                                <div class="card-header"><i class="header-icon lnr-gift icon-gradient bg-grow-early">
                                    </i>
                                    <div class="btn-actions-pane-right">
                                        <div class="nav">
                                            <a data-toggle="tab" href="#tab-eg6-0"
                                                class="border-0 btn-transition btn btn-outline-primary active show">
                                                UTILITIES
                                            </a>
                                            <a data-toggle="tab" href="#tab-eg6-1"
                                                class="mr-1 ml-1 border-0 btn-transition btn btn-outline-primary show">
                                                OFFICE SUPPLY
                                            </a>
                                            <a data-toggle="tab" href="#tab-eg6-2"
                                                class="border-0 btn-transition  btn btn-outline-primary">
                                                SALARIES
                                            </a>
                                            <a data-toggle="tab" href="#tab-eg6-3"
                                                class="border-0 btn-transition  btn btn-outline-primary">
                                                MARKETER REBATES
                                            </a>
                                            <a data-toggle="tab" href="#tab-eg6-4"
                                                class="border-0 btn-transition  btn btn-outline-primary">
                                                BOOKEPER
                                            </a>
                                            <a data-toggle="tab" href="#tab-eg6-5"
                                                class="border-0 btn-transition  btn btn-outline-primary">
                                                REFUNDED
                                            </a>
                                            <a data-toggle="tab" href="#tab-eg6-6"
                                                class="border-0 btn-transition  btn btn-outline-primary">
                                                OTHER EXPENSES
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="tab-content">
                                        <div class="tab-pane active show" id="tab-eg6-0" role="tabpanel">
                                            <div class="row">
                                                <div class="col-lg-4 col-xl-4">
                                                </div>
                                                <div class="col-lg-4 col-xl-4">
                                                    <div class="card mb-3 widget-content">
                                                        <div class="widget-content-wrapper">
                                                            <div class="widget-content-left">
                                                                <div class="widget-heading">Total</div>
                                                                <div class="widget-subheading"></div>
                                                            </div>
                                                            <div class="widget-content-right">
                                                                <div class="widget-numbers text-success"><span
                                                                        id="total_utilities_tab">₱ 0.00</span></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 col-xl-4">
                                                </div>
                                            </div>
                                            <div class="form-row">
                                                <div class="col-md-2 col-xs-2">
                                                    <div class="position-relative form-group">
                                                        <label for="filter_utilities_description" class="">Description</label>
                                                        <select id="filter_utilities_description" class="form-control">
                                                            <option value="">Choose...</option>
                                                            <option value="Building Rental">Building Rental</option>
                                                            <option value="Electricity Bill">Electricity Bill</option>
                                                            <option value="Water Bill">Water Bill</option>
                                                            <option value="Internet And Communication Bill">Internet And Communication Bill</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-2 col-xs-2">
                                                    <div class="position-relative form-group">
                                                        <label for="filter_utilities_date_from" class="">Date From</label>
                                                        <input id="filter_utilities_date_from" type="date" class="form-control" placeholder="Date From">
                                                    </div>
                                                </div>
                                                <div class="col-md-2 col-xs-2">
                                                    <div class="position-relative form-group">
                                                        <label for="filter_utilities_date_to" class="">Date To</label>
                                                        <input id="filter_utilities_date_to" type="date" class="form-control" placeholder="Date To">
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="margin-top: 10px;" class="table-responsive">
                                                <table id="tbl_utilities"
                                                    class="align-middle mb-0 table table-bordered table-striped table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">DATE</th>
                                                            <th class="text-center">DESCRIPTION</th>
                                                            <th class="text-center">ACCOUNT NO. | PARTICULAR NO.</th>
                                                            <th class="text-center">BILLING MONTH</th>
                                                            <th class="text-center">TOTAL AMOUNT DUE</th>
                                                            <th class="text-center">SETTLED BY</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="tab-pane show" id="tab-eg6-1" role="tabpanel">
                                            <div class="row">
                                                <div class="col-lg-4 col-xl-4">
                                                </div>
                                                <div class="col-lg-4 col-xl-4">
                                                    <div class="card mb-3 widget-content">
                                                        <div class="widget-content-wrapper">
                                                            <div class="widget-content-left">
                                                                <div class="widget-heading">Total</div>
                                                                <div class="widget-subheading"></div>
                                                            </div>
                                                            <div class="widget-content-right">
                                                                <div class="widget-numbers text-success"><span
                                                                        id="total_office_supply_tab">₱ 0.00</span></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 col-xl-4">
                                                </div>
                                            </div>
                                            <div class="form-row">
                                                <div class="col-md-2 col-xs-2">
                                                    <div class="position-relative form-group">
                                                        <label for="filter_office_supply_description" class="">Description</label>
                                                        <select id="filter_office_supply_description" class="form-control">
                                                            <option value="">Choose...</option>
                                                            <option value="Bond Paper">Bond Paper</option>
                                                            <option value="Epson Ink">Epson Ink</option>
                                                            <option value="Epson Ink (Black)">Epson Ink (Black)</option>
                                                            <option value="Epson Ink (Yellow)">Epson Ink (Yellow)</option>
                                                            <option value="Epson Ink (Blue)">Epson Ink (Blue)</option>
                                                            <option value="Epson Ink (Pink)">Epson Ink (Pink)</option>
                                                            <option value="Whiteboard Marker">Whiteboard Marker</option>
                                                            <option value="Whiteboard Marker Ink">Whiteboard Marker Ink</option>
                                                            <option value="PVC Cover">PVC Cover</option>
                                                            <option value="PVC Cover (8.5x11) 100pcs">PVC Cover (8.5x11) 100pcs</option>
                                                            <option value="Photo Paper">Photo Paper</option>
                                                            <option value="Stapler">Stapler</option>
                                                            <option value="Staple Wire">Staple Wire</option>
                                                            <option value="Staple Wire (23/24)">Staple Wire (23/24)</option>
                                                            <option value="Vellum">Vellum</option>
                                                            <option value="Vellum (Worx 8.5x11)">Vellum (Worx 8.5x11)</option>
                                                            <option value="Ductape">Ductape</option>
                                                            <option value="Parchment">Parchment</option>
                                                            <option value="Parchment (10 pcs per pack)">Parchment (10pcs per pack)</option>
                                                            <option value="Ball Pen">Ball Pen</option>
                                                            <option value="Ball Pen (50 pcs)">Ball Pen (50 pcs)</option>
                                                            <option value="Notebook (50 pcs)">Notebook (50 pcs)</option>
                                                            <option value="Medal">Medal</option>
                                                            <option value="Ribbon">Ribbon</option>
                                                            <option value="Notarial Seals Ribbon">Notarial Seals Ribbon</option>
                                                            <option value="Notarial Seals Ribbon (10 pcs per box)">Notarial Seals Ribbon (10 pcs per box)</option>
                                                            <option value="Computer">Computer</option>
                                                            <option value="Aircon">Aircon</option>
                                                            <option value="Alcohol">Alcohol</option>
                                                            <option value="Air Freshener">Air Freshener</option>
                                                            <option value="Bathroom Cleaner">Bathroom Cleaner</option>
                                                            <option value="Water Refill">Water Refill</option>
                                                            <option value="Printer">Printer</option>
                                                            <option value="Laptop">Laptop</option>
                                                            <option value="Projector">Projector</option>
                                                            <option value="Chair">Chair</option>
                                                            <option value="Arm Chair">Arm Chair</option>
                                                            <option value="Whiteboard">Whiteboard</option>
                                                            <option value="Scissor">Scissor</option>
                                                            <option value="Calculator">Calculator</option>
                                                            <option value="Correction Pen">Correction Pen</option>
                                                            <option value="Highlighter">Highlighter</option>
                                                            <option value="Push Pen">Push Pen</option>
                                                            <option value="Binder Clip">Binder Clip</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-2 col-xs-2">
                                                    <div class="position-relative form-group">
                                                        <label for="filter_office_supply_date_from" class="">Date From</label>
                                                        <input id="filter_office_supply_date_from" type="date" class="form-control" placeholder="Date From">
                                                    </div>
                                                </div>
                                                <div class="col-md-2 col-xs-2">
                                                    <div class="position-relative form-group">
                                                        <label for="filter_office_supply_date_to" class="">Date To</label>
                                                        <input id="filter_office_supply_date_to" type="date" class="form-control" placeholder="Date To">
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="margin-top: 10px;" class="table-responsive">
                                                <table id="tbl_office_supply"
                                                    class="align-middle mb-0 table table-bordered table-striped table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">DATE</th>
                                                            <th class="text-center">DESCRIPTION</th>
                                                            <th class="text-center">UNIT PRICE</th>
                                                            <th class="text-center">QTY</th>
                                                            <th class="text-center">TOTAL AMOUNT DUE</th>
                                                            <th class="text-center">SETTLED BY</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="tab-eg6-2" role="tabpanel">
                                            <!-- <div class="row">
                                                <div class="col-lg-4 col-xl-4">
                                                </div>
                                                <div class="col-lg-4 col-xl-4">
                                                    <div class="card mb-3 widget-content">
                                                        <div class="widget-content-wrapper">
                                                            <div class="widget-content-left">
                                                                <div class="widget-heading">Total</div>
                                                                <div class="widget-subheading"></div>
                                                            </div>
                                                            <div class="widget-content-right">
                                                                <div class="widget-numbers text-success"><span
                                                                        id="total_office_supply_tab">₱ 0.00</span></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 col-xl-4">
                                                </div>
                                            </div> -->
                                            <div style="margin-top: 10px;" class="table-responsive">
                                                <table id="tbl_salary"
                                                    class="align-middle mb-0 table table-bordered table-striped table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">DATE</th>
                                                            <th class="text-center">NAME OF EMPLOYEE</th>
                                                            <th class="text-center">CUT OF DATE</th>
                                                            <th class="text-center">GROSS SALARY</th>
                                                            <th class="text-center">DEDUCTION</th>
                                                            <th class="text-center">NET</th>
                                                            <th class="text-center">SETTLED BY</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="tab-eg6-3" role="tabpanel">
                                            <!-- <div class="row">
                                                <div class="col-lg-4 col-xl-4">
                                                </div>
                                                <div class="col-lg-4 col-xl-4">
                                                    <div class="card mb-3 widget-content">
                                                        <div class="widget-content-wrapper">
                                                            <div class="widget-content-left">
                                                                <div class="widget-heading">Total</div>
                                                                <div class="widget-subheading"></div>
                                                            </div>
                                                            <div class="widget-content-right">
                                                                <div class="widget-numbers text-success"><span
                                                                        id="total_office_supply_tab">₱ 0.00</span></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 col-xl-4">
                                                </div>
                                            </div> -->
                                            <div style="margin-top: 10px;" class="table-responsive">
                                                <table id="tbl_rebate"
                                                    class="align-middle mb-0 table table-bordered table-striped table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">DATE</th>
                                                            <th class="text-center">NAME OF MARKETER</th>
                                                            <th class="text-center">JAN</th>
                                                            <th class="text-center">FEB</th>
                                                            <th class="text-center">MAR</th>
                                                            <th class="text-center">APR</th>
                                                            <th class="text-center">MAY</th>
                                                            <th class="text-center">JUN</th>
                                                            <th class="text-center">JUL</th>
                                                            <th class="text-center">AUG</th>
                                                            <th class="text-center">SEP</th>
                                                            <th class="text-center">OCT</th>
                                                            <th class="text-center">NOV</th>
                                                            <th class="text-center">DEC</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="tab-eg6-4" role="tabpanel">
                                            <p>Coming soon...</p>
                                        </div>
                                        <div class="tab-pane" id="tab-eg6-5" role="tabpanel">
                                            <div style="margin-top: 10px;" class="table-responsive">
                                                <table id="tbl_refund"
                                                    class="align-middle mb-0 table table-bordered table-striped table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">DATE</th>
                                                            <th class="text-center">NAME OF STUDENT</th>
                                                            <th class="text-center">REGISTRATION NO.</th>
                                                            <th class="text-center">BATCH NO.</th>
                                                            <th class="text-center">SCHEDULE</th>
                                                            <th class="text-center">AMOUNT</th>
                                                            <th class="text-center">BOOK</th>
                                                            <th class="text-center">UNIFORM</th>
                                                            <th class="text-center">ID LACE</th>
                                                            <th class="text-center">CONTACT PERSON</th>
                                                            <th class="text-center">REBATE AMOUNT</th>
                                                            <!-- <th class="text-center">REBATE STATUS</th> -->
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="tab-eg6-6" role="tabpanel">
                                            <div style="margin-top: 10px;" class="table-responsive">
                                                <table id="tbl_other_expenses"
                                                    class="align-middle mb-0 table table-bordered table-striped table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">DATE</th>
                                                            <th class="text-center">DESCRIPTION</th>
                                                            <th class="text-center">TOTAL AMOUNT DUE</th>
                                                            <th class="text-center">SETTLED BY</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}